<form role="form" name="thresholdForm" novalidate>
	<div class="form-group" data-ng-class="errorClass(thresholdForm.meterDevice.$invalid)">
		<label for="meterDevice" class="control-label" data-localize="wizard.state-machine.choose-meter-device">Choose meter device:</label>
		<div data-device-selector="device-selector" class="form-control" name="meterDevice" data-model="threshold.meterDevice" 
			data-required="true"  data-device-list="threshold.meterDevices">
		</div>
	</div>

	<div class="control-group" 
		data-ng-class="errorClass(thresholdForm.threshold.$invalid)">
		<label for="threshold" class="control-label" data-localize="wizard.state-machine.choose-threshold">Choose threshold:</label>
		<input class="form-control" type="number" name="threshold" min="1" max="4294967295" data-ng-model="threshold.threshold"
			data-ng-pattern="/^-?\d+$/" data-ng-required="true">
		<p class="help-block"
			data-ng-show="thresholdForm.threshold.$error.number
			|| thresholdForm.threshold.$error.required
			|| thresholdForm.threshold.$error.pattern"
			data-localize="wizard.state-machine.errors.no-valid-number">
				Not a valid number.
		</p>
		<p class="help-block" data-ng-show="thresholdForm.threshold.$error.min"
			data-localize="wizard.state-machine.errors.number-min-u32">
				The value has to be greater then 0.
		</p>
		<p class="help-block" data-ng-show="thresholdForm.threshold.$error.max"
			data-localize="wizard.state-machine.errors.number-max-u32">
				The value has to be smaller then 4294967296.
		</p>
	</div>

	<div class="control-group" data-ng-class="errorClass(thresholdForm.offDelay.$invalid)">
		<label class="control-label" for="offDelay" data-localize="wizard.state-machine.choose-off-delay">Choose minimum off time in minutes:</label>
		<input class="form-control" type="number" name="offDelay" min="1" max="71582788" data-ng-model="threshold.offDelay"
			data-ng-pattern="/^-?\d+$/"  data-ng-required="true">
		<p class="help-block"
			data-ng-show="thresholdForm.offDelay.$error.number
			|| thresholdForm.offDelay.$error.required
			|| thresholdForm.offDelay.$error.pattern"
			data-localize="wizard.state-machine.errors.no-valid-number">
				Not a valid number.
		</p>
		<p class="help-block" data-ng-show="thresholdForm.offDelay.$error.min"
			data-localize="wizard.state-machine.errors.number-min-u32">
				The value has to be greater then 0.
		</p>
		<p class="help-block" data-ng-show="thresholdForm.offDelay.$error.max"
			data-localize="wizard.state-machine.errors.number-max-u32-minutes">
				The value has to be smaller then 71582788.
		</p>
	</div>

	<div class="control-group" data-ng-class="errorClass(thresholdForm.onDelay.$invalid)">
		<label class="control-label" for="onDelay" data-localize="wizard.state-machine.choose-on-delay">Choose minimale on time in minutes:</label>
		<input class="form-control" type="number" name="onDelay" min="1" max="71582788" data-ng-model="threshold.onDelay"
			data-ng-pattern="/^-?\d+$/"  data-ng-required="true">
		<p class="help-block"
			data-ng-show="thresholdForm.onDelay.$error.number
			|| thresholdForm.onDelay.$error.required
			|| thresholdForm.onDelay.$error.pattern"
			data-localize="wizard.state-machine.errors.no-valid-number">
				Not a valid number.
		</p>
		<p class="help-block" data-ng-show="thresholdForm.onDelay.$error.min"
			data-localize="wizard.state-machine.errors.number-min-u32">
				The value has to be greater then 0.
		</p>
		<p class="help-block" data-ng-show="thresholdForm.onDelay.$error.max"
			data-localize="wizard.state-machine.errors.number-max-u32-minutes">
				The value has to be smaller then 71582788.
		</p>
	</div>

	<div class="form-group" data-ng-class="errorClass(thresholdForm.switchDevice.$invalid)">
		<label for="switchDevice" class="control-label" data-localize="wizard.state-machine.choose-switch-device">Choose switch device:</label>
		<div data-device-selector="device-selector" class="form-control" name="switchDevice" data-model="threshold.switchDevice" 
			data-required="true"  data-device-list="threshold.switchDevices">
		</div>
	</div>


	<button class="btn btn-success" data-ng-disabled="thresholdForm.$invalid || busy" 
		data-localize="wizard.state-machine.upload" data-ng-click="threshold.upload()">Upload</button>

</form>
